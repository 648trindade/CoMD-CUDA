<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>CoMD: Measuring Performance</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CoMD
   </div>
   <div id="projectbrief">A Mini-app for Co-Design of Classical Molecular Dynamics.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('pg_measuring_performance.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Measuring Performance </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>CoMD implements a simple and extensible system of internal timers to measure the performance profile of the code.</p>
<p>As explained in <a class="el" href="performance_timers_8c.html" title="Performance timer functions.">performanceTimers.c</a>, it is easy to create additional timers and associate them with code regions of specific interest. In addition, the <a class="el" href="performance_timers_8c.html#ae07af139b89147e1aad6954fc3916a20" title="Returns current time as a 64-bit integer.">getTime()</a> and <a class="el" href="performance_timers_8c.html#a87c46055d8887ec6c0b5567e03295909" title="Returns the factor for converting the integer time reported by getTime into seconds.">getTick()</a> functions can be easily reimplemented to take advantage of platform specific timing resources.</p>
<p>A timing report is printed at the end of each simulation.</p>
<div class="fragment"><div class="line">Timings <span class="keywordflow">for</span> Rank 0</div>
<div class="line">        Timer        # Calls    Avg/Call (s)   Total (s)    % Loop</div>
<div class="line">___________________________________________________________________</div>
<div class="line">total                      1      50.6701       50.6701      100.04</div>
<div class="line">loop                       1      50.6505       50.6505      100.00</div>
<div class="line"><a class="code" href="timestep_8c.html#a00db39367e4fc033b40467abd3048fb3" title="Advance the simulation time to t+dt using a leap frog method (equivalent to velocity verlet)...">timestep</a>                   1      50.6505       50.6505      100.00</div>
<div class="line">  position             10000       0.0000        0.0441        0.09</div>
<div class="line">  velocity             20000       0.0000        0.0388        0.08</div>
<div class="line">  redistribute         10001       0.0003        3.4842        6.88</div>
<div class="line">    atomHalo           10001       0.0002        2.4577        4.85</div>
<div class="line">  force                10001       0.0047       47.0856       92.96</div>
<div class="line">    eamHalo            10001       0.0001        1.0592        2.09</div>
<div class="line">commHalo               60006       0.0000        1.7550        3.46</div>
<div class="line">commReduce                12       0.0000        0.0003        0.00</div>
<div class="line"></div>
<div class="line">Timing Statistics Across 8 Ranks:</div>
<div class="line">        Timer        Rank: Min(s)       Rank: Max(s)      Avg(s)    Stdev(s)</div>
<div class="line">_____________________________________________________________________________</div>
<div class="line">total                3:   50.6697       0:   50.6701     50.6699      0.0001</div>
<div class="line">loop                 0:   50.6505       4:   50.6505     50.6505      0.0000</div>
<div class="line"><a class="code" href="timestep_8c.html#a00db39367e4fc033b40467abd3048fb3" title="Advance the simulation time to t+dt using a leap frog method (equivalent to velocity verlet)...">timestep</a>             0:   50.6505       4:   50.6505     50.6505      0.0000</div>
<div class="line">  position           2:    0.0437       0:    0.0441      0.0439      0.0001</div>
<div class="line">  velocity           2:    0.0380       4:    0.0392      0.0385      0.0004</div>
<div class="line">  redistribute       0:    3.4842       1:    3.7085      3.6015      0.0622</div>
<div class="line">    atomHalo         0:    2.4577       7:    2.6441      2.5780      0.0549</div>
<div class="line">  force              1:   46.8624       0:   47.0856     46.9689      0.0619</div>
<div class="line">    eamHalo          3:    0.2269       6:    1.2936      1.0951      0.3344</div>
<div class="line">commHalo             3:    1.0803       6:    2.1856      1.9363      0.3462</div>
<div class="line">commReduce           6:    0.0002       2:    0.0003      0.0003      0.0000</div>
<div class="line"></div>
<div class="line">---------------------------------------------------</div>
<div class="line"> Average atom update rate:   9.39 us/atom/task</div>
<div class="line">---------------------------------------------------</div>
</div><!-- fragment --><p> This report consists of two blocks. The upper block lists the absolute wall clock time spent in each timer on rank 0 of the job. The lower block reports minimum, maximum, average, and standard deviation of times across all tasks. The ranks where the minimum and maximum values occured are also reported to aid in identifying hotspots or load imbalances.</p>
<p>The last line of the report gives the atom update rate in microseconds/atom/task. Since this quantity is normalized by both the number of atoms and the number of tasks it provides a simple figure of merit to compare performance between runs with different numbers of atoms and different numbers of tasks. Any increase in this number relative to a large number of atoms on a single task represents a loss of parallel efficiency.</p>
<p>Choosing the problem size correctly has important implications for the reported performance. Small problem sizes may run entirely in the cache of some architectures, leading to very good performance results. For general characterization of performance, it is probably best to choose problem sizes which force the code to access main memory, even though there may be strong scaling scenarios where the code is indeed running mainly in cache. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 5 2013 09:13:03 for CoMD by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
