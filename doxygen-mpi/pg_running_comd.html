<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>CoMD: Running CoMD</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CoMD
   </div>
   <div id="projectbrief">A Mini-app for Co-Design of Classical Molecular Dynamics.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('pg_running_comd.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Running CoMD </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sec_command_line_options"></a>
Command Line Options</h1>
<p>CoMD accepts a number of command line options to set the parameters of the simulation. Every option has both a long form and a short form. The long and short form of the arguments are entirely interchangeable and may be mixed. All the arguments are independent with the exception of the --potDir, --potName, and --potType, (short forms -d, -n, and -t) arguments which are only relevant when used in conjunction with --doeam, (-e).</p>
<p>Supported options are:</p>
<table class="doxtable">
<tr>
<th align="left">Long Form </th><th align="center">Short Form </th><th align="center">Default Value </th><th align="left">Description</th></tr>
<tr>
<td align="left">--help </td><td align="center">-h </td><td align="center">N/A </td><td align="left">print this message </td></tr>
<tr>
<td align="left">--potDir </td><td align="center">-d </td><td align="center">pots </td><td align="left">potential directory </td></tr>
<tr>
<td align="left">--potName </td><td align="center">-p </td><td align="center">Cu_u6.eam </td><td align="left">potential name </td></tr>
<tr>
<td align="left">--potType </td><td align="center">-t </td><td align="center">funcfl </td><td align="left">potential type (funcfl or setfl) </td></tr>
<tr>
<td align="left">--doeam </td><td align="center">-e </td><td align="center">N/A </td><td align="left">compute eam potentials (default is LJ) </td></tr>
<tr>
<td align="left">--nx </td><td align="center">-x </td><td align="center">20 </td><td align="left">number of unit cells in x </td></tr>
<tr>
<td align="left">--ny </td><td align="center">-y </td><td align="center">20 </td><td align="left">number of unit cells in y </td></tr>
<tr>
<td align="left">--nz </td><td align="center">-z </td><td align="center">20 </td><td align="left">number of unit cells in z </td></tr>
<tr>
<td align="left">--xproc </td><td align="center">-i </td><td align="center">1 </td><td align="left">number of ranks in x direction </td></tr>
<tr>
<td align="left">--yproc </td><td align="center">-j </td><td align="center">1 </td><td align="left">number of ranks in y direction </td></tr>
<tr>
<td align="left">--zproc </td><td align="center">-k </td><td align="center">1 </td><td align="left">number of ranks in z direction </td></tr>
<tr>
<td align="left">--nSteps </td><td align="center">-N </td><td align="center">100 </td><td align="left">total number of time steps </td></tr>
<tr>
<td align="left">--printRate </td><td align="center">-n </td><td align="center">10 </td><td align="left">number of steps between output </td></tr>
<tr>
<td align="left">--dt </td><td align="center">-D </td><td align="center">1 </td><td align="left">time step (in fs) </td></tr>
<tr>
<td align="left">--lat </td><td align="center">-l </td><td align="center">-1 </td><td align="left">lattice parameter (Angstroms) </td></tr>
<tr>
<td align="left">--temp </td><td align="center">-T </td><td align="center">600 </td><td align="left">initial temperature (K) </td></tr>
<tr>
<td align="left">--delta </td><td align="center">-r </td><td align="center">0 </td><td align="left">initial delta (Angstroms) </td></tr>
</table>
<p>Notes:</p>
<p>The negative value for the lattice parameter (such as the default value, -1) is interpreted as a flag to indicate that the lattice parameter should be set from the potential. All supplied potentials are for copper and have a lattice constant of 3.615 Angstroms. Setting the lattice parameter to any positive value will override the values provided in the potential files.</p>
<p>The default potential name for the funcfl potential type is Cu_u6.eam (Adams potential). For the setfl type the default potential name is Cu01.eam.alloy (Mishin potential). Although these will yield similar dynamics, the table have a very different number of entries (500 vs. 10,000 points, respectively) This may give very different performance, depending on the hardware.</p>
<p>The default temperature is 600K. However, when using a perfect lattice the system will rapidly cool to 300K due to equipartition of energy.</p>
<h2><a class="anchor" id="ssec_example_command_lines"></a>
Examples</h2>
<p>All of the examples below assume:</p>
<ul>
<li>The current working directory contains a copy of the pots dir (or a link to it).</li>
<li>The CoMD bin directory is located in ../bin</li>
</ul>
<p>Running in the examples directory will satisfy these requirements. </p>
<hr/>
<p>The canonical base simulation, is </p>
<pre class="fragment">$ mpirun -np 1 ../bin/CoMD-mpi 
</pre><p>Or, if the code was built without MPI: </p>
<pre class="fragment">$ ../bin/CoMD-serial
</pre><hr/>
<h3><a class="anchor" id="cmd_examples_potential"></a>
Changing Potentials</h3>
<p>To run with the default (Adams) EAM potential, specify -e: </p>
<pre class="fragment">$ ../bin/CoMD-mpi -e 
</pre><hr/>
<p>To run using the Mishin EAM potential contained in the setfl file Cu01.eam.alloy. This potential uses much larger tables (10,000 entries vs. 500 for the Adams potential). </p>
<pre class="fragment">$ ../bin/CoMD-mpi -e -t setfl 
</pre><hr/>
<p>Selecting the name of a setfl file without setting the appropriate potential type </p>
<pre class="fragment">$ ../bin/CoMD-mpi -e -p Cu01.eam.alloy 
</pre><p>will result in an error message:</p>
<p>Only FCC Lattice type supported, not . Fatal Error.</p>
<p>Instead use: </p>
<pre class="fragment">$ ../bin/CoMD-mpi -e -t setfl -p Cu01.eam.alloy 
</pre><hr/>
<h3><a class="anchor" id="cmd_example_struct"></a>
Initial Structure Modifications</h3>
<p>To change the lattice constant and run with an expanded or compressed lattice: </p>
<pre class="fragment">$ ../bin/CoMD-mpi -l 3.5 
</pre><p>This can be useful to test that the potential is being correctly evaluated as a function of interatomic spacing (the cold curve). However, due to the high degree of symmetry of a perfect lattice, this type of test is unlikely to detect errors in the force computation. </p>
<hr/>
<p>Initialize with zero temperature (zero instantaneous particle velocity) but with a random displacements of the atoms (in this case the maximum displacement is 0.1 Angstrom along each axis). </p>
<pre class="fragment"> $ ../bin/CoMD-mpi --delta 0.1 -T 0
</pre><p>Typical values of delta are in the range of 0.1 to 0.5 Angstroms. Larger values of delta correspond to higher initial potential energy which in turn produce higer temperatures as the structure equilibrates. </p>
<hr/>
<h3><a class="anchor" id="cmd_examples_scaling"></a>
Scaling Examples</h3>
<p>Simple shell scripts that demonstrate weak and strong scaling studies are provided in the examples directory. </p>
<hr/>
<p>Run the default global simulation size (32,000 atoms) distributed over 8 cubic subdomains, an example of strong scaling. If the number of processors does not equal (i*j*k) the run will abort. Notice that spaces are optional between short form options and their arguments. </p>
<pre class="fragment">$ mpirun -np 8 ../bin/CoMD-mpi -i2 -j2 -k2
</pre><hr/>
<p>Run a weak scaling example: the simulation is doubled in each dimension from the default 20 x 20 x 20 and the number of subdomains in each direction is also doubled. </p>
<pre class="fragment">$ mpirun -np 8 ../bin/CoMD-mpi -i2 -j2 -k2 -x 40 -y 40 -z 40
</pre><hr/>
<p>The same weak scaling run, but for 10,000 timesteps, with output only every 100 steps. </p>
<pre class="fragment">$ mpirun -np 8 ../bin/CoMD-mpi -i2 -j2 -k2 -x 40 -y 40 -z 40 -N 10000 -n 100</pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 5 2013 11:08:32 for CoMD by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
