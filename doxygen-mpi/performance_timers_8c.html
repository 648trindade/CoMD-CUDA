<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>CoMD: performanceTimers.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CoMD
   </div>
   <div id="projectbrief">A Mini-app for Co-Design of Classical Molecular Dynamics.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('performance_timers_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">performanceTimers.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Performance timer functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="performance_timers_8h_source.html">performanceTimers.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;inttypes.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="mytype_8h_source.html">mytype.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="parallel_8h_source.html">parallel.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="yaml_output_8h_source.html">yamlOutput.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for performanceTimers.c:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c__incl.png" border="0" usemap="#performance_timers_8c" alt=""/></div>
<map name="performance_timers_8c" id="performance_timers_8c">
<area shape="rect" id="node2" href="performance_timers_8h.html" title="Performance timer functions." alt="" coords="5,80,155,107"/><area shape="rect" id="node9" href="mytype_8h.html" title="Frequently needed typedefs." alt="" coords="858,155,936,181"/><area shape="rect" id="node10" href="parallel_8h.html" title="Wrappers for MPI functions." alt="" coords="898,80,973,107"/><area shape="rect" id="node11" href="yaml_output_8h.html" title="Write simulation information in YAML format." alt="" coords="719,80,823,107"/></map>
</div>
</div>
<p><a href="performance_timers_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_timers_st.html">TimersSt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer data collected.  <a href="struct_timers_st.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a32853a2f86bddfe41535c14d0f1decfd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_timers_st.html">TimersSt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#a32853a2f86bddfe41535c14d0f1decfd">Timers</a></td></tr>
<tr class="memdesc:a32853a2f86bddfe41535c14d0f1decfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer data collected.  <a href="#a32853a2f86bddfe41535c14d0f1decfd">More...</a><br/></td></tr>
<tr class="separator:a32853a2f86bddfe41535c14d0f1decfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae07af139b89147e1aad6954fc3916a20"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#ae07af139b89147e1aad6954fc3916a20">getTime</a> (void)</td></tr>
<tr class="memdesc:ae07af139b89147e1aad6954fc3916a20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current time as a 64-bit integer.  <a href="#ae07af139b89147e1aad6954fc3916a20">More...</a><br/></td></tr>
<tr class="separator:ae07af139b89147e1aad6954fc3916a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c46055d8887ec6c0b5567e03295909"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#a87c46055d8887ec6c0b5567e03295909">getTick</a> (void)</td></tr>
<tr class="memdesc:a87c46055d8887ec6c0b5567e03295909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the factor for converting the integer time reported by getTime into seconds.  <a href="#a87c46055d8887ec6c0b5567e03295909">More...</a><br/></td></tr>
<tr class="separator:a87c46055d8887ec6c0b5567e03295909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833fb6d8f07c55bc48015f8694ffd087"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#a833fb6d8f07c55bc48015f8694ffd087">timerStats</a> (void)</td></tr>
<tr class="memdesc:a833fb6d8f07c55bc48015f8694ffd087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect timer statistics across ranks.  <a href="#a833fb6d8f07c55bc48015f8694ffd087">More...</a><br/></td></tr>
<tr class="separator:a833fb6d8f07c55bc48015f8694ffd087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49ef297e1b06c00281c031d8ef4e0056"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#a49ef297e1b06c00281c031d8ef4e0056">profileStart</a> (const enum <a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10">TimerHandle</a> handle)</td></tr>
<tr class="memdesc:a49ef297e1b06c00281c031d8ef4e0056"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use profileStart and profileStop only for timers that should <em>never</em> be turned off.  <a href="#a49ef297e1b06c00281c031d8ef4e0056">More...</a><br/></td></tr>
<tr class="separator:a49ef297e1b06c00281c031d8ef4e0056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65811a8e6c92815372d648feb8ea940a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#a65811a8e6c92815372d648feb8ea940a">profileStop</a> (const enum <a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10">TimerHandle</a> handle)</td></tr>
<tr class="separator:a65811a8e6c92815372d648feb8ea940a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422ef26b666f08198634e1b6de1f661a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#a422ef26b666f08198634e1b6de1f661a">getElapsedTime</a> (const enum <a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10">TimerHandle</a> handle)</td></tr>
<tr class="memdesc:a422ef26b666f08198634e1b6de1f661a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use to get elapsed time (lap timer).  <a href="#a422ef26b666f08198634e1b6de1f661a">More...</a><br/></td></tr>
<tr class="separator:a422ef26b666f08198634e1b6de1f661a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f6bd6d44a8eb9da93ff29122fe61a84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#a4f6bd6d44a8eb9da93ff29122fe61a84">printPerformanceResults</a> (int nGlobalAtoms)</td></tr>
<tr class="memdesc:a4f6bd6d44a8eb9da93ff29122fe61a84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print timing results.  <a href="#a4f6bd6d44a8eb9da93ff29122fe61a84">More...</a><br/></td></tr>
<tr class="separator:a4f6bd6d44a8eb9da93ff29122fe61a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa63888596e7072e66688fbdf8d5a3003"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#aa63888596e7072e66688fbdf8d5a3003">printPerformanceResultsYaml</a> (FILE *file)</td></tr>
<tr class="memdesc:aa63888596e7072e66688fbdf8d5a3003"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print timing results to Yaml file.  <a href="#aa63888596e7072e66688fbdf8d5a3003">More...</a><br/></td></tr>
<tr class="separator:aa63888596e7072e66688fbdf8d5a3003"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a91d865145a208e188d9089223a43efc5"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#a91d865145a208e188d9089223a43efc5">timerName</a> [<a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10a9a85e81878279fabec4d58fc1ef29996">numberOfTimers</a>]</td></tr>
<tr class="memdesc:a91d865145a208e188d9089223a43efc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">You must add timer name in same order as enum in .h file.  <a href="#a91d865145a208e188d9089223a43efc5">More...</a><br/></td></tr>
<tr class="separator:a91d865145a208e188d9089223a43efc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ecece7652788e27b6ed2439adeee9a8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="performance_timers_8c.html#a32853a2f86bddfe41535c14d0f1decfd">Timers</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="performance_timers_8c.html#a2ecece7652788e27b6ed2439adeee9a8">perfTimer</a> [<a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10a9a85e81878279fabec4d58fc1ef29996">numberOfTimers</a>]</td></tr>
<tr class="separator:a2ecece7652788e27b6ed2439adeee9a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Performance timer functions. </p>
<p>Use the timer functionality to collect timing and number of calls information for chosen computations (such as force calls) and communication (such as sends, receives, reductions). Timing results are reported at the end of the run showing overall timings and statistics of timings across ranks.</p>
<p>A new timer can be added as follows:</p>
<ol type="1">
<li>add new handle to the TimerHandle in <a class="el" href="performance_timers_8h.html" title="Performance timer functions.">performanceTimers.h</a></li>
<li>provide a corresponding name in timerName</li>
</ol>
<p>Note that the order of the handles and names must be the same. This order also determines the order in which the timers are printed. Names can contain leading spaces to show a hierarchical ordering. Timers with zero calls are omitted from the report.</p>
<p>Raw timer data is obtained from the <a class="el" href="performance_timers_8c.html#ae07af139b89147e1aad6954fc3916a20" title="Returns current time as a 64-bit integer.">getTime()</a> and <a class="el" href="performance_timers_8c.html#a87c46055d8887ec6c0b5567e03295909" title="Returns the factor for converting the integer time reported by getTime into seconds.">getTick()</a> functions. The supplied portable versions of these functions can be replaced with platform specific versions for improved accuracy or lower latency. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10" title="Timer handles.">TimerHandle</a> </dd>
<dd>
<a class="el" href="performance_timers_8c.html#ae07af139b89147e1aad6954fc3916a20" title="Returns current time as a 64-bit integer.">getTime</a> </dd>
<dd>
<a class="el" href="performance_timers_8c.html#a87c46055d8887ec6c0b5567e03295909" title="Returns the factor for converting the integer time reported by getTime into seconds.">getTick</a> </dd></dl>

<p>Definition in file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a32853a2f86bddfe41535c14d0f1decfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_timers_st.html">TimersSt</a>  <a class="el" href="performance_timers_8c.html#a32853a2f86bddfe41535c14d0f1decfd">Timers</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timer data collected. </p>
<p>Also facilitates computing averages and statistics. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a422ef26b666f08198634e1b6de1f661a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double getElapsedTime </td>
          <td>(</td>
          <td class="paramtype">const enum <a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10">TimerHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use to get elapsed time (lap timer). </p>
<p>Return elapsed time (in seconds) since last call with this handle and clear for next lap. </p>

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00099">99</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a422ef26b666f08198634e1b6de1f661a_cgraph.png" border="0" usemap="#performance_timers_8c_a422ef26b666f08198634e1b6de1f661a_cgraph" alt=""/></div>
<map name="performance_timers_8c_a422ef26b666f08198634e1b6de1f661a_cgraph" id="performance_timers_8c_a422ef26b666f08198634e1b6de1f661a_cgraph">
<area shape="rect" id="node2" href="performance_timers_8c.html#a87c46055d8887ec6c0b5567e03295909" title="Returns the factor for converting the integer time reported by getTime into seconds." alt="" coords="176,5,243,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a422ef26b666f08198634e1b6de1f661a_icgraph.png" border="0" usemap="#performance_timers_8c_a422ef26b666f08198634e1b6de1f661a_icgraph" alt=""/></div>
<map name="performance_timers_8c_a422ef26b666f08198634e1b6de1f661a_icgraph" id="performance_timers_8c_a422ef26b666f08198634e1b6de1f661a_icgraph">
<area shape="rect" id="node2" href="_co_m_d_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="176,5,227,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a87c46055d8887ec6c0b5567e03295909"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static double getTick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the factor for converting the integer time reported by getTime into seconds. </p>
<p>The portable getTime returns values in units of microseconds so the conversion is simply 1e-6. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="performance_timers_8c.html#ae07af139b89147e1aad6954fc3916a20" title="Returns current time as a 64-bit integer.">getTime</a> </dd></dl>

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00225">225</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a87c46055d8887ec6c0b5567e03295909_icgraph.png" border="0" usemap="#performance_timers_8c_a87c46055d8887ec6c0b5567e03295909_icgraph" alt=""/></div>
<map name="performance_timers_8c_a87c46055d8887ec6c0b5567e03295909_icgraph" id="performance_timers_8c_a87c46055d8887ec6c0b5567e03295909_icgraph">
<area shape="rect" id="node2" href="performance_timers_8h.html#a422ef26b666f08198634e1b6de1f661a" title="Use to get elapsed time (lap timer)." alt="" coords="160,5,283,32"/><area shape="rect" id="node4" href="performance_timers_8h.html#a4f6bd6d44a8eb9da93ff29122fe61a84" title="Print timing results." alt="" coords="135,56,308,83"/><area shape="rect" id="node5" href="performance_timers_8h.html#aa63888596e7072e66688fbdf8d5a3003" title="Print timing results to Yaml file." alt="" coords="120,107,323,133"/><area shape="rect" id="node3" href="_co_m_d_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="371,56,421,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae07af139b89147e1aad6954fc3916a20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t getTime </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns current time as a 64-bit integer. </p>
<p>This portable version returns the number of microseconds since mindight, Jamuary 1, 1970. Hence, timing data will have a resolution of 1 microsecond. Platforms with access to calls with lower latency or higher resolution (such as a cycle counter) may wish to replace this implementation and change the conversion factor in getTick as appropriate. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="performance_timers_8c.html#a87c46055d8887ec6c0b5567e03295909" title="Returns the factor for converting the integer time reported by getTime into seconds.">getTick</a> for the conversion factor between the integer time units of this function and seconds. </dd></dl>

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00211">211</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_ae07af139b89147e1aad6954fc3916a20_icgraph.png" border="0" usemap="#performance_timers_8c_ae07af139b89147e1aad6954fc3916a20_icgraph" alt=""/></div>
<map name="performance_timers_8c_ae07af139b89147e1aad6954fc3916a20_icgraph" id="performance_timers_8c_ae07af139b89147e1aad6954fc3916a20_icgraph">
<area shape="rect" id="node2" href="performance_timers_8h.html#a49ef297e1b06c00281c031d8ef4e0056" title="Use profileStart and profileStop only for timers that should never be turned off." alt="" coords="128,5,219,32"/><area shape="rect" id="node4" href="performance_timers_8h.html#a65811a8e6c92815372d648feb8ea940a" title="profileStop" alt="" coords="128,56,219,83"/><area shape="rect" id="node3" href="_co_m_d_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="267,31,317,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4f6bd6d44a8eb9da93ff29122fe61a84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printPerformanceResults </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nGlobalAtoms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print timing results. </p>
<p>The report contains two blocks. The upper block is performance information for the printRank. The lower block is statistical information over all ranks. </p>

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00111">111</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a4f6bd6d44a8eb9da93ff29122fe61a84_cgraph.png" border="0" usemap="#performance_timers_8c_a4f6bd6d44a8eb9da93ff29122fe61a84_cgraph" alt=""/></div>
<map name="performance_timers_8c_a4f6bd6d44a8eb9da93ff29122fe61a84_cgraph" id="performance_timers_8c_a4f6bd6d44a8eb9da93ff29122fe61a84_cgraph">
<area shape="rect" id="node2" href="performance_timers_8c.html#a833fb6d8f07c55bc48015f8694ffd087" title="Collect timer statistics across ranks." alt="" coords="227,107,314,133"/><area shape="rect" id="node8" href="parallel_8c.html#a02072b7e11ef08f6e3c6e236bb13ac3c" title="Return non&#45;zero if printing occurs from this rank." alt="" coords="231,208,310,235"/><area shape="rect" id="node9" href="performance_timers_8c.html#a87c46055d8887ec6c0b5567e03295909" title="Returns the factor for converting the integer time reported by getTime into seconds." alt="" coords="237,259,304,285"/><area shape="rect" id="node5" href="parallel_8c.html#a1396bd09185d8abc5cbf751b76512cfa" title="Return local rank." alt="" coords="401,208,492,235"/><area shape="rect" id="node4" href="parallel_8c.html#a00f6e4f2b757b05b377ed3f6fd6e18d2" title="Return total number of processors." alt="" coords="401,5,492,32"/><area shape="rect" id="node3" href="parallel_8c.html#a2c5924dc6ca290b1207987d85f621c7e" title="Wrapper for MPI_Allreduce double sum." alt="" coords="380,56,513,83"/><area shape="rect" id="node6" href="parallel_8c.html#a3ad3a0dff3c38df1847cc3ea696c56b3" title="Wrapper for MPI_Allreduce double min with rank." alt="" coords="366,107,527,133"/><area shape="rect" id="node7" href="parallel_8c.html#aaeea8b697276b8c9eada67c51b5579b8" title="Wrapper for MPI_Allreduce double max with rank." alt="" coords="363,157,530,184"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a4f6bd6d44a8eb9da93ff29122fe61a84_icgraph.png" border="0" usemap="#performance_timers_8c_a4f6bd6d44a8eb9da93ff29122fe61a84_icgraph" alt=""/></div>
<map name="performance_timers_8c_a4f6bd6d44a8eb9da93ff29122fe61a84_icgraph" id="performance_timers_8c_a4f6bd6d44a8eb9da93ff29122fe61a84_icgraph">
<area shape="rect" id="node2" href="_co_m_d_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="227,5,277,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa63888596e7072e66688fbdf8d5a3003"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printPerformanceResultsYaml </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print timing results to Yaml file. </p>

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00159">159</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_aa63888596e7072e66688fbdf8d5a3003_cgraph.png" border="0" usemap="#performance_timers_8c_aa63888596e7072e66688fbdf8d5a3003_cgraph" alt=""/></div>
<map name="performance_timers_8c_aa63888596e7072e66688fbdf8d5a3003_cgraph" id="performance_timers_8c_aa63888596e7072e66688fbdf8d5a3003_cgraph">
<area shape="rect" id="node2" href="parallel_8c.html#a02072b7e11ef08f6e3c6e236bb13ac3c" title="Return non&#45;zero if printing occurs from this rank." alt="" coords="262,5,341,32"/><area shape="rect" id="node3" href="performance_timers_8c.html#a87c46055d8887ec6c0b5567e03295909" title="Returns the factor for converting the integer time reported by getTime into seconds." alt="" coords="268,56,335,83"/><area shape="rect" id="node4" href="parallel_8c.html#a00f6e4f2b757b05b377ed3f6fd6e18d2" title="Return total number of processors." alt="" coords="256,107,347,133"/><area shape="rect" id="node5" href="parallel_8c.html#a1396bd09185d8abc5cbf751b76512cfa" title="Return local rank." alt="" coords="256,157,347,184"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_aa63888596e7072e66688fbdf8d5a3003_icgraph.png" border="0" usemap="#performance_timers_8c_aa63888596e7072e66688fbdf8d5a3003_icgraph" alt=""/></div>
<map name="performance_timers_8c_aa63888596e7072e66688fbdf8d5a3003_icgraph" id="performance_timers_8c_aa63888596e7072e66688fbdf8d5a3003_icgraph">
<area shape="rect" id="node2" href="_co_m_d_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="256,5,307,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a49ef297e1b06c00281c031d8ef4e0056"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void profileStart </td>
          <td>(</td>
          <td class="paramtype">const enum <a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10">TimerHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use profileStart and profileStop only for timers that should <em>never</em> be turned off. </p>
<p>Typically this means they are outside the main simulation loop. If the timer is inside the main loop use startTimer and stopTimer instead. </p>

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00083">83</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a49ef297e1b06c00281c031d8ef4e0056_cgraph.png" border="0" usemap="#performance_timers_8c_a49ef297e1b06c00281c031d8ef4e0056_cgraph" alt=""/></div>
<map name="performance_timers_8c_a49ef297e1b06c00281c031d8ef4e0056_cgraph" id="performance_timers_8c_a49ef297e1b06c00281c031d8ef4e0056_cgraph">
<area shape="rect" id="node2" href="performance_timers_8c.html#ae07af139b89147e1aad6954fc3916a20" title="Returns current time as a 64&#45;bit integer." alt="" coords="145,5,218,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a49ef297e1b06c00281c031d8ef4e0056_icgraph.png" border="0" usemap="#performance_timers_8c_a49ef297e1b06c00281c031d8ef4e0056_icgraph" alt=""/></div>
<map name="performance_timers_8c_a49ef297e1b06c00281c031d8ef4e0056_icgraph" id="performance_timers_8c_a49ef297e1b06c00281c031d8ef4e0056_icgraph">
<area shape="rect" id="node2" href="_co_m_d_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="144,5,195,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a65811a8e6c92815372d648feb8ea940a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void profileStop </td>
          <td>(</td>
          <td class="paramtype">const enum <a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10">TimerHandle</a>&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00088">88</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a65811a8e6c92815372d648feb8ea940a_cgraph.png" border="0" usemap="#performance_timers_8c_a65811a8e6c92815372d648feb8ea940a_cgraph" alt=""/></div>
<map name="performance_timers_8c_a65811a8e6c92815372d648feb8ea940a_cgraph" id="performance_timers_8c_a65811a8e6c92815372d648feb8ea940a_cgraph">
<area shape="rect" id="node2" href="performance_timers_8c.html#ae07af139b89147e1aad6954fc3916a20" title="Returns current time as a 64&#45;bit integer." alt="" coords="145,5,218,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a65811a8e6c92815372d648feb8ea940a_icgraph.png" border="0" usemap="#performance_timers_8c_a65811a8e6c92815372d648feb8ea940a_icgraph" alt=""/></div>
<map name="performance_timers_8c_a65811a8e6c92815372d648feb8ea940a_icgraph" id="performance_timers_8c_a65811a8e6c92815372d648feb8ea940a_icgraph">
<area shape="rect" id="node2" href="_co_m_d_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="144,5,195,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a833fb6d8f07c55bc48015f8694ffd087"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void timerStats </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collect timer statistics across ranks. </p>

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00232">232</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a833fb6d8f07c55bc48015f8694ffd087_cgraph.png" border="0" usemap="#performance_timers_8c_a833fb6d8f07c55bc48015f8694ffd087_cgraph" alt=""/></div>
<map name="performance_timers_8c_a833fb6d8f07c55bc48015f8694ffd087_cgraph" id="performance_timers_8c_a833fb6d8f07c55bc48015f8694ffd087_cgraph">
<area shape="rect" id="node2" href="parallel_8c.html#a2c5924dc6ca290b1207987d85f621c7e" title="Wrapper for MPI_Allreduce double sum." alt="" coords="159,5,292,32"/><area shape="rect" id="node3" href="parallel_8c.html#a00f6e4f2b757b05b377ed3f6fd6e18d2" title="Return total number of processors." alt="" coords="180,56,271,83"/><area shape="rect" id="node4" href="parallel_8c.html#a1396bd09185d8abc5cbf751b76512cfa" title="Return local rank." alt="" coords="180,107,271,133"/><area shape="rect" id="node5" href="parallel_8c.html#a3ad3a0dff3c38df1847cc3ea696c56b3" title="Wrapper for MPI_Allreduce double min with rank." alt="" coords="145,157,306,184"/><area shape="rect" id="node6" href="parallel_8c.html#aaeea8b697276b8c9eada67c51b5579b8" title="Wrapper for MPI_Allreduce double max with rank." alt="" coords="142,208,309,235"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="performance_timers_8c_a833fb6d8f07c55bc48015f8694ffd087_icgraph.png" border="0" usemap="#performance_timers_8c_a833fb6d8f07c55bc48015f8694ffd087_icgraph" alt=""/></div>
<map name="performance_timers_8c_a833fb6d8f07c55bc48015f8694ffd087_icgraph" id="performance_timers_8c_a833fb6d8f07c55bc48015f8694ffd087_icgraph">
<area shape="rect" id="node2" href="performance_timers_8h.html#a4f6bd6d44a8eb9da93ff29122fe61a84" title="Print timing results." alt="" coords="141,5,315,32"/><area shape="rect" id="node3" href="_co_m_d_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="363,5,413,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a2ecece7652788e27b6ed2439adeee9a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="performance_timers_8c.html#a32853a2f86bddfe41535c14d0f1decfd">Timers</a> perfTimer[<a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10a9a85e81878279fabec4d58fc1ef29996">numberOfTimers</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00081">81</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

</div>
</div>
<a class="anchor" id="a91d865145a208e188d9089223a43efc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* timerName[<a class="el" href="performance_timers_8h.html#aad7c167e5a5323c78ac01a35d46c1b10a9a85e81878279fabec4d58fc1ef29996">numberOfTimers</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">   <span class="stringliteral">&quot;total&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;loop&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;timestep&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;  position&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;  velocity&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;  redistribute&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;    atomHalo&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;  force&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;    eamHalo&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;commHalo&quot;</span>,</div>
<div class="line">   <span class="stringliteral">&quot;commReduce&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p>You must add timer name in same order as enum in .h file. </p>
<p>Leading spaces can be specified to show a hierarchy of timers. </p>

<p>Definition at line <a class="el" href="performance_timers_8c_source.html#l00049">49</a> of file <a class="el" href="performance_timers_8c_source.html">performanceTimers.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="performance_timers_8c.html">performanceTimers.c</a></li>
    <li class="footer">Generated on Wed Jun 5 2013 11:08:31 for CoMD by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
